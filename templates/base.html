{% load staticfiles %}


<!DOCTYPE html>
<html lang="en" ng-app="meubisApp">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}Meubis Connect{% endblock title %}</title>
    
    <meta name='description' content="{% block meta-description %}{% endblock %}"/>

    {% block css %}
        <!-- Foundation -->
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.1/css/foundation.min.css"/>
        <link rel="stylesheet" href="{% static 'css/meubis.css' %}"/>

        <!-- Font Awesome -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css" />
        {% block extra-css %}
        {% endblock extra-css %}
    {% endblock css %}
  </head>

<body>
    {% block super-content %}
        {% include "navbar.html" %}
        <div class="row">
            <div class="small-6 large-centered columns">
                <alert ng-repeat="alert in alerts" type="alert.type" close="closeAlert($index)" ng-cloak class="text-center alert-show-hide">[[alert.msg]]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</alert>
            </div>
        </div>
        <div class="{%block page-class%}{%endblock page-class%}" {%block controller%}{%endblock controller%}>
        {% block main_body %}
        {% endblock main_body %}
        </div>
    {% endblock super-content %}
    
    {% block footer %}
    {% endblock footer %}

    {% block js %}
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.1/js/foundation.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.14/angular.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.14/angular-resource.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.13/angular-ui-router.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.14/angular-sanitize.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.14/angular-animate.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.14/angular-cookies.js"></script> 

        <script src="{% static 'js/vendor/angular-file-upload.min.js' %}"></script>
        <script src="{% static 'js/vendor/angular-relative-date.js' %}"></script>
        <script src="{% static 'js/vendor/ng-infinite-scroll.min.js' %}"></script>
        <script src="{% static 'js/vendor/mm-foundation-tpls-0.6.0.min.js' %}"></script>
        <script src="{% static 'js/vendor/capitalize.min.js' %}"></script>
        
        <script src="{% static 'js/meubis.js' %}"></script>
        <script src="{% static 'js/ng/ng-meubis.js' %}"></script>
        <script type="text/javascript">
        // Inject constants from django
          angular.module('meubisApp').constant("djangoConstants", {
            user: { id: '{{user.id}}',
                    email: '{{user.email}}',
                    first_name: '{{user.first_name}}',
                    last_name: '{{user.last_name}}',
                    username: '{{user.username}}',
                    phone_number: '{{user.userprofile.phone_number}}',
                    last_login: '{{user.last_login}}',
                    date_joined: '{{user.date_joined}}',
                    is_superuser: '{{user.is_superuser}}',
                    is_active: '{{user.is_active}}',
                    is_admin: '{{user.is_admin}}',
                    is_staff: '{{user.is_staff}}'
                  }
          });
        </script>
        {% block extra-js %}
        {% endblock extra-js %}
    {% endblock js %}
</body>
</html>
